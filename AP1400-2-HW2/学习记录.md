# ä½œä¸šå­¦ä¹ è®°å½•

## å½“å‰çŠ¶æ€
- é¡¹ç›®ç»“æ„å·²åˆ†æå®Œæˆ
- å¤´æ–‡ä»¶ server.h å’Œ client.h ç›®å‰ä¸ºç©ºï¼Œéœ€è¦å®ç°
- crypto.cpp/h å·²æä¾›å®Œæ•´çš„åŠ å¯†åŠŸèƒ½

## é”™è¯¯è®°å½•

### 1. Server.h è¯­æ³•é”™è¯¯ (ç¬¬ä¸€æ¬¡å®ç°)
- **é”™è¯¯ä½ç½®**: include/server.h:10, 16, 18, 19
- **é—®é¢˜æè¿°**: 
  - ç¬¬10è¡Œï¼šæ„é€ å‡½æ•°å£°æ˜ä¸å®Œæ•´ï¼Œç¼ºå°‘åˆ†å·å’Œå‡½æ•°ä½“
  - ç¬¬16è¡Œï¼š`size_t mine` åº”è¯¥æ˜¯ `size_t mine()`ï¼Œç¼ºå°‘æ‹¬å·
  - ç¬¬18è¡Œï¼šç¼ºå°‘ `#include <map>` å’Œ `#include <memory>`
  - ç¬¬19è¡Œï¼šç±»å®šä¹‰ç¼ºå°‘åˆ†å·
- **ä¿®æ­£æ–¹æ³•**: éœ€è¦è¡¥å……ç¼ºå¤±çš„è¯­æ³•å…ƒç´ 
- **çŠ¶æ€**: âœ“ éƒ¨åˆ†ä¿®æ­£å®Œæˆ

### 2. Server.h ä»éœ€å®Œå–„ (ç¬¬äºŒæ¬¡ä¿®æ”¹)
- **é”™è¯¯ä½ç½®**: include/server.h:11, ç¼ºå°‘å¤´æ–‡ä»¶å’Œå£°æ˜
- **é—®é¢˜æè¿°**:
  - ç¬¬11è¡Œï¼šæ„é€ å‡½æ•°å£°æ˜è¯­æ³•é”™è¯¯ `Server():` åº”è¯¥æ˜¯ `Server();`
  - ç¼ºå°‘ `#include <memory>` å¤´æ–‡ä»¶
  - ç¼ºå°‘ `class Client;` å‰ç½®å£°æ˜
  - ç¼ºå°‘å…¨å±€å˜é‡ `pending_trxs` å£°æ˜
- **çŠ¶æ€**: âœ“ å·²ä¿®æ­£

## çŸ¥è¯†ç‚¹è®°å½•

### çŸ¥è¯†ç‚¹1: å‰ç½®å£°æ˜ (Forward Declaration)
- **ä»£ç **: `class Client;`
- **ä½œç”¨**: å‘Šè¯‰ç¼–è¯‘å™¨"Clientæ˜¯ä¸€ä¸ªç±»"ï¼Œä½†ä¸éœ€è¦çŸ¥é“Clientçš„å…·ä½“å†…å®¹
- **ä¸ºä»€ä¹ˆéœ€è¦**: Serverç±»ä¸­ä½¿ç”¨äº†`std::shared_ptr<Client>`ï¼Œç¼–è¯‘å™¨éœ€è¦çŸ¥é“Clientçš„å­˜åœ¨
- **ä¼˜ç‚¹**: é¿å…å¾ªç¯åŒ…å«é—®é¢˜ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦
- **åœºæ™¯**: å½“ä¸¤ä¸ªç±»äº’ç›¸å¼•ç”¨æ—¶ç»å¸¸ä½¿ç”¨

### çŸ¥è¯†ç‚¹2: externå…³é”®å­—å’Œå…¨å±€å˜é‡
- **ä»£ç **: `extern std::vector<std::string> pending_trxs;`
- **å«ä¹‰**: å£°æ˜ä¸€ä¸ªå¤–éƒ¨å˜é‡ï¼Œè¯¥å˜é‡åœ¨å…¶ä»–æ–‡ä»¶ä¸­å®šä¹‰
- **externä½œç”¨**: 
  - åœ¨å¤´æ–‡ä»¶ä¸­ï¼šå£°æ˜å˜é‡å­˜åœ¨ï¼Œä½†ä¸åˆ›å»ºå˜é‡
  - åœ¨æºæ–‡ä»¶ä¸­ï¼šå®é™…å®šä¹‰å’Œåˆ›å»ºå˜é‡
- **ä¸ºä»€ä¹ˆè¿™æ ·åš**: é¿å…å¤šä¸ªæ–‡ä»¶åŒ…å«åŒä¸€å¤´æ–‡ä»¶æ—¶é‡å¤å®šä¹‰å˜é‡
- **å®é™…å®šä¹‰ä½ç½®**: éœ€è¦åœ¨æŸä¸ª.cppæ–‡ä»¶ä¸­å†™`std::vector<std::string> pending_trxs;`

### çŸ¥è¯†ç‚¹3: æ„é€ å‡½æ•°
- **ä»£ç **: `Server();`
- **ä½œç”¨**: åˆ›å»ºServerå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨çš„ç‰¹æ®Šå‡½æ•°
- **ç‰¹ç‚¹**: 
  - å‡½æ•°åä¸ç±»åç›¸åŒ
  - æ²¡æœ‰è¿”å›å€¼ç±»å‹
  - ç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„æˆå‘˜å˜é‡
- **ä¸ºä»€ä¹ˆéœ€è¦**: æ¯ä¸ªç±»éƒ½éœ€è¦æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡

### çŸ¥è¯†ç‚¹4: std::mapå®¹å™¨
- **ä»£ç **: `std::map<std::shared_ptr<Client>, double> clients;`
- **ä½œç”¨**: å…³è”å®¹å™¨ï¼Œå­˜å‚¨é”®å€¼å¯¹
- **è¿™é‡Œçš„å«ä¹‰**: 
  - é”®(Key): `std::shared_ptr<Client>` - æŒ‡å‘å®¢æˆ·ç«¯çš„æ™ºèƒ½æŒ‡é’ˆ
  - å€¼(Value): `double` - å®¢æˆ·ç«¯çš„é’±åŒ…ä½™é¢
- **ä¸ºä»€ä¹ˆç”¨map**: å¯ä»¥é€šè¿‡å®¢æˆ·ç«¯å¯¹è±¡å¿«é€ŸæŸ¥æ‰¾å¯¹åº”çš„ä½™é¢
- **æ™ºèƒ½æŒ‡é’ˆ**: `std::shared_ptr<Client>`æ˜¯æ™ºèƒ½æŒ‡é’ˆï¼Œè‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œå¤šä¸ªåœ°æ–¹å¯ä»¥å…±äº«åŒä¸€ä¸ªClientå¯¹è±¡

### çŸ¥è¯†ç‚¹5: å¤´æ–‡ä»¶åŒ…å«æœºåˆ¶
- **é—®é¢˜**: server.cppä¸­å·²ç»æœ‰`#include "server.h"`ï¼Œæ˜¯å¦éœ€è¦é‡å¤åŒ…å«server.hä¸­çš„å¤´æ–‡ä»¶ï¼Ÿ
- **ç­”æ¡ˆ**: ä¸éœ€è¦ï¼åŒ…å«å¤´æ–‡ä»¶æ—¶ï¼Œè¯¥å¤´æ–‡ä»¶ä¸­çš„æ‰€æœ‰includeéƒ½ä¼šè¢«è‡ªåŠ¨åŒ…å«
- **åŸç†**: é¢„å¤„ç†å™¨ä¼šé€’å½’åœ°åŒ…å«æ‰€æœ‰ä¾èµ–çš„å¤´æ–‡ä»¶
- **ä¾‹å­**: 
  - server.hä¸­æœ‰`#include <string>`
  - server.cppä¸­`#include "server.h"`
  - é‚£ä¹ˆserver.cppå°±è‡ªåŠ¨å¯ä»¥ä½¿ç”¨std::stringäº†
- **ä½•æ—¶éœ€è¦é¢å¤–åŒ…å«**: 
  - å½“.cppæ–‡ä»¶ä½¿ç”¨äº†å¤´æ–‡ä»¶ä¸­æ²¡æœ‰åŒ…å«çš„åº“æ—¶
  - ä¾‹å¦‚ï¼šå¦‚æœç”¨åˆ°`std::cout`ä½†server.hä¸­æ²¡æœ‰`#include <iostream>`

### çŸ¥è¯†ç‚¹6: Serverç±»çš„å­˜å‚¨ç»“æ„
- **æˆå‘˜å˜é‡**: `std::map<std::shared_ptr<Client>, double> clients;`
- **å­˜å‚¨å†…å®¹**: 
  - **é”®(Key)**: `std::shared_ptr<Client>` - æŒ‡å‘å®¢æˆ·ç«¯å¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆ
  - **å€¼(Value)**: `double` - è¯¥å®¢æˆ·ç«¯çš„é’±åŒ…ä½™é¢ï¼ˆå¤šå°‘ä¸ªå¸ï¼‰
- **å®é™…å«ä¹‰**: Serverç»´æŠ¤äº†ä¸€ä¸ª"å®¢æˆ·ç«¯è´¦æœ¬"
- **ä¾‹å­**: 
  ```
  clients = {
    [Clientå¯¹è±¡"alice"çš„æŒ‡é’ˆ] -> 5.0,    // aliceæœ‰5ä¸ªå¸
    [Clientå¯¹è±¡"bob"çš„æŒ‡é’ˆ]   -> 10.25,  // bobæœ‰10.25ä¸ªå¸
    [Clientå¯¹è±¡"charlie"çš„æŒ‡é’ˆ] -> 0.5   // charlieæœ‰0.5ä¸ªå¸
  }
  ```
- **ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡**: 
  - Serveræ˜¯"é“¶è¡Œ"ï¼Œéœ€è¦çŸ¥é“æ¯ä¸ªå®¢æˆ·æœ‰å¤šå°‘é’±
  - ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå…±äº«Clientå¯¹è±¡ï¼Œé¿å…é‡å¤åˆ›å»º
  - åŒå‘å…³ç³»ï¼šClientçŸ¥é“Serverï¼ŒServerä¹Ÿç®¡ç†Clientçš„ä½™é¢

### çŸ¥è¯†ç‚¹7: æ„é€ å‡½æ•°çš„åˆå§‹åŒ–
- **é—®é¢˜**: Serverçš„æ„é€ å‡½æ•°éœ€è¦åšä»€ä¹ˆåˆå§‹åŒ–å·¥ä½œï¼Ÿ
- **ç­”æ¡ˆ**: å¯¹äºServerç±»ï¼Œæ„é€ å‡½æ•°å¯ä»¥ä¸ºç©º
- **åŸå› **: 
  - `clients` æ˜¯ `std::map`ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸ºç©ºmap
  - `pending_trxs` æ˜¯å…¨å±€å˜é‡ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸ºç©ºvector
  - æ²¡æœ‰éœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–çš„èµ„æºï¼ˆæ–‡ä»¶ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰
- **ä½•æ—¶éœ€è¦åˆå§‹åŒ–**: 
  - åŸºæœ¬æ•°æ®ç±»å‹æˆå‘˜å˜é‡ï¼ˆintã€doubleç­‰ï¼‰
  - éœ€è¦ç‰¹æ®Šåˆå§‹å€¼çš„æƒ…å†µ
  - éœ€è¦åˆ†é…èµ„æºçš„æƒ…å†µï¼ˆå†…å­˜ã€æ–‡ä»¶ç­‰ï¼‰
- **STLå®¹å™¨**: `std::map`, `std::vector`, `std::string` ç­‰éƒ½æœ‰é»˜è®¤æ„é€ å‡½æ•°ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸ºç©º

### çŸ¥è¯†ç‚¹8: C++ç±»å’Œå¯¹è±¡åŸºç¡€æ¦‚å¿µ

#### ä»€ä¹ˆæ˜¯ç±»ï¼ˆClassï¼‰ï¼Ÿ
- **å®šä¹‰**: ç±»æ˜¯ä¸€ä¸ª"æ¨¡æ¿"æˆ–"è“å›¾"ï¼Œå®šä¹‰äº†ä¸€ç§æ•°æ®ç±»å‹
- **æ¯”å–»**: ç±»å°±åƒ"æ±½è½¦è®¾è®¡å›¾"ï¼Œå®šä¹‰äº†æ±½è½¦åº”è¯¥æœ‰ä»€ä¹ˆéƒ¨ä»¶å’ŒåŠŸèƒ½
- **å†…å®¹**: ç±»åŒ…å«æˆå‘˜å˜é‡ï¼ˆæ•°æ®ï¼‰å’Œæˆå‘˜å‡½æ•°ï¼ˆæ“ä½œï¼‰

#### ä»€ä¹ˆæ˜¯å¯¹è±¡ï¼ˆObjectï¼‰ï¼Ÿ
- **å®šä¹‰**: å¯¹è±¡æ˜¯ç±»çš„"å®ä¾‹"ï¼Œæ˜¯æ ¹æ®ç±»åˆ›å»ºçš„å…·ä½“å®ä½“
- **æ¯”å–»**: å¯¹è±¡å°±åƒ"å…·ä½“çš„æ±½è½¦"ï¼Œæ˜¯æŒ‰ç…§è®¾è®¡å›¾åˆ¶é€ å‡ºæ¥çš„çœŸå®ç‰©å“
- **ç‰¹ç‚¹**: æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„æˆå‘˜å˜é‡å€¼

#### å®é™…ä¾‹å­
```cpp
// ç±»çš„å®šä¹‰ï¼ˆè“å›¾ï¼‰
class Car {
private:
    std::string brand;    // æˆå‘˜å˜é‡
    int speed;
public:
    Car(std::string b);   // æ„é€ å‡½æ•°
    void accelerate();    // æˆå‘˜å‡½æ•°
    int getSpeed();
};

// åˆ›å»ºå¯¹è±¡ï¼ˆå…·ä½“çš„æ±½è½¦ï¼‰
Car car1("Toyota");    // car1æ˜¯ä¸€ä¸ªå¯¹è±¡
Car car2("BMW");       // car2æ˜¯å¦ä¸€ä¸ªå¯¹è±¡
```

#### åœ¨æˆ‘ä»¬çš„ä½œä¸šä¸­
- **Serverç±»**: æ˜¯"é“¶è¡Œ"çš„è®¾è®¡å›¾
- **serverå¯¹è±¡**: æ˜¯å…·ä½“çš„é“¶è¡Œå®ä¾‹
- **Clientç±»**: æ˜¯"å®¢æˆ·"çš„è®¾è®¡å›¾
- **alice, bobç­‰**: æ˜¯å…·ä½“çš„å®¢æˆ·å¯¹è±¡

#### æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°
- **æˆå‘˜å˜é‡**: å¯¹è±¡çš„"å±æ€§"ï¼ˆå¦‚å®¢æˆ·çš„IDã€ä½™é¢ï¼‰
- **æˆå‘˜å‡½æ•°**: å¯¹è±¡çš„"è¡Œä¸º"ï¼ˆå¦‚è½¬è´¦ã€æŒ–çŸ¿ï¼‰
- **thisæŒ‡é’ˆ**: åœ¨æˆå‘˜å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘å½“å‰å¯¹è±¡

#### æ„é€ å‡½æ•°
- **ä½œç”¨**: åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–
- **ç‰¹ç‚¹**: å‡½æ•°åä¸ç±»åç›¸åŒï¼Œæ²¡æœ‰è¿”å›å€¼ç±»å‹
- **ä¾‹å­**: `Server::Server()` å°±æ˜¯Serverç±»çš„æ„é€ å‡½æ•°

### 3. Client.h å®ç° (ç¬¬ä¸€æ¬¡)
- **é”™è¯¯ä½ç½®**: include/client.h:24
- **é—®é¢˜æè¿°**: ç±»å®šä¹‰åç¼ºå°‘åˆ†å·
- **ä¿®æ­£æ–¹æ³•**: åœ¨ç¬¬24è¡Œçš„ `}` åé¢åŠ ä¸Šåˆ†å·å˜æˆ `};`
- **çŠ¶æ€**: âœ“ å·²ä¿®æ­£

### 4. Server.cpp add_clientå‡½æ•° (ç¬¬ä¸€æ¬¡å®ç°)
- **é”™è¯¯ä½ç½®**: src/server.cpp:17
- **é—®é¢˜æè¿°**: å‡½æ•°å®šä¹‰ç¼ºå°‘ç±»åé™å®šç¬¦
- **å½“å‰**: `std::shared_ptr<Client> add_client(std::string id)`
- **åº”è¯¥**: `std::shared_ptr<Client> Server::add_client(std::string id)`
- **åŸå› **: è¿™æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ï¼Œéœ€è¦æŒ‡æ˜å±äºå“ªä¸ªç±»
- **çŠ¶æ€**: âœ“ å·²ä¿®æ­£

### 5. Server.cpp ä¸‰ä¸ªå‡½æ•°å®ç°æ£€æŸ¥
- **add_client**: âœ“ å®ç°æ­£ç¡®
- **get_client**: âœ“ å®ç°æ­£ç¡®  
- **get_wallet**: âš ï¸ æœ‰ä¸€ä¸ªå°é—®é¢˜

#### get_walletå‡½æ•°é—®é¢˜ï¼š
- **é”™è¯¯ä½ç½®**: src/server.cpp:51
- **é—®é¢˜**: `logic_error` å‰ç¼ºå°‘ `std::`
- **å½“å‰**: `throw logic_error("this id doesn't exist");`
- **åº”è¯¥**: `throw std::logic_error("this id doesn't exist");`
- **è§£å†³æ–¹æ¡ˆ**: æ·»åŠ  `std::` å‰ç¼€ï¼Œå¹¶éœ€è¦ `#include <stdexcept>` å¤´æ–‡ä»¶
- **çŠ¶æ€**: âœ“ å·²ä¿®æ­£

### 6. Client.cpp ä¸‰ä¸ªå‡½æ•°å®ç°æ£€æŸ¥

#### å‡½æ•°1: Client::get_id() 
- **çŠ¶æ€**: âœ… å®Œå…¨æ­£ç¡®
- **ä»£ç **: `return this->id;` æ­£ç¡®è¿”å›å®¢æˆ·ID

#### å‡½æ•°2: get_publickey()
- **é”™è¯¯ä½ç½®**: src/client.cpp:14
- **é—®é¢˜**: ç¼ºå°‘ç±»åé™å®šç¬¦å’Œè¿”å›è¯­å¥è¯­æ³•é”™è¯¯
- **å½“å‰**: `std::string get_publickey()`
- **åº”è¯¥**: `std::string Client::get_publickey()`
- **é¢å¤–é—®é¢˜**: `return this->public_key;` ç¼ºå°‘åˆ†å·

#### å‡½æ•°3: Server::get_wallet()
- **é”™è¯¯ä½ç½®**: src/client.cpp:17 (è¿™ä¸ªå‡½æ•°ä¸åº”è¯¥åœ¨client.cppä¸­ï¼)
- **é—®é¢˜åˆ—è¡¨**:
  1. è¿™åº”è¯¥æ˜¯Client::get_wallet()ï¼Œä¸æ˜¯Server::get_wallet()
  2. å‡½æ•°ä½“é€»è¾‘é”™è¯¯ï¼šClientå¯¹è±¡ä¸éœ€è¦è°ƒç”¨get_client
  3. è¯­æ³•é”™è¯¯ï¼š`return Server::clients[client_ptr]` ç¼ºå°‘åˆ†å·
  4. è¯­æ³•é”™è¯¯ï¼š`logic_error` å‰ç¼ºå°‘ `std::`
- **æ­£ç¡®å®ç°åº”è¯¥æ˜¯**:
  ```cpp
  double Client::get_wallet() {
      return server->get_wallet(id);
  }
  ```

### 7. Client::get_wallet() å‡½æ•°ç¬¬äºŒæ¬¡æ£€æŸ¥
- **é”™è¯¯ä½ç½®**: src/client.cpp:20-22, 24
- **é—®é¢˜åˆ—è¡¨**:
  1. **è®¾è®¡é—®é¢˜**: `Server::get_client()` ä¸èƒ½è¿™æ ·è°ƒç”¨ï¼Œå› ä¸ºå®ƒä¸æ˜¯é™æ€å‡½æ•°
  2. **è®¿é—®æƒé™**: `Server::clients` æ˜¯privateæˆå‘˜ï¼ŒClientç±»æ— æ³•ç›´æ¥è®¿é—®
  3. **è¯­æ³•é”™è¯¯**: ç¬¬24è¡Œ `return Server::clients[client_ptr]` ç¼ºå°‘åˆ†å·
  4. **é€»è¾‘å¤æ‚**: Clientä¸éœ€è¦è‡ªå·±æŸ¥æ‰¾æŒ‡é’ˆï¼Œåº”è¯¥å§”æ‰˜ç»™Server

#### æ­£ç¡®çš„ç®€å•å®ç°ï¼š
```cpp
double Client::get_wallet() {
    return server->get_wallet(id);  // å§”æ‰˜ServeræŸ¥è¯¢
}
```

#### ä¸ºä»€ä¹ˆè¿™æ ·æ›´å¥½ï¼š
- **å°è£…æ€§**: éµå®ˆè®¿é—®æƒé™ï¼Œä¸ç›´æ¥è®¿é—®Serverçš„privateæˆå‘˜
- **ç®€å•æ€§**: ä¸€è¡Œä»£ç è§£å†³é—®é¢˜
- **æ­£ç¡®æ€§**: åˆ©ç”¨å·²ç»å®ç°å¥½çš„Server::get_wallet()å‡½æ•°

### çŸ¥è¯†ç‚¹12: ä¸ºä»€ä¹ˆClient::get_wallet()ä¸­ä¸éœ€è¦åˆå§‹åŒ–serverå’Œidï¼Ÿ
- **é—®é¢˜**: åœ¨get_wallet()å‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨serverå’Œidï¼Œä¸ºä»€ä¹ˆä¸éœ€è¦åˆå§‹åŒ–ï¼Ÿ
- **ç­”æ¡ˆ**: å› ä¸ºå®ƒä»¬å·²ç»åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–è¿‡äº†ï¼

#### è¯¦ç»†è§£é‡Šï¼š
1. **serverå’Œidæ˜¯æˆå‘˜å˜é‡**ï¼Œæ¯ä¸ªClientå¯¹è±¡éƒ½æœ‰è¿™ä¸¤ä¸ªå±æ€§
2. **æ„é€ å‡½æ•°å·²ç»åˆå§‹åŒ–**ï¼š
   ```cpp
   Client::Client(std::string id, const Server& server) 
       : id(id), server(&server)  // åœ¨è¿™é‡Œå·²ç»åˆå§‹åŒ–äº†ï¼
   {
       // ç”Ÿæˆå¯†é’¥çš„ä»£ç ...
   }
   ```
3. **æˆå‘˜å‡½æ•°å¯ä»¥ç›´æ¥ä½¿ç”¨**ï¼š
   - `id` æ˜¯è¿™ä¸ªClientå¯¹è±¡çš„èº«ä»½è¯å·
   - `server` æ˜¯æŒ‡å‘é“¶è¡Œçš„æŒ‡é’ˆ
   - åœ¨ä»»ä½•æˆå‘˜å‡½æ•°ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦é‡æ–°åˆå§‹åŒ–

#### å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼š
```cpp
// åˆ›å»ºClientå¯¹è±¡æ—¶ï¼š
Client alice("alice", myBank);  // æ„é€ å‡½æ•°è¢«è°ƒç”¨ï¼Œid="alice", server=&myBank

// åæ¥è°ƒç”¨get_walletæ—¶ï¼š
alice.get_wallet();  // idå’Œserverå·²ç»å­˜åœ¨ï¼Œç›´æ¥ä½¿ç”¨å³å¯
```

#### ç±»æ¯”ç†è§£ï¼š
- ä½ å‡ºç”Ÿæ—¶å°±æœ‰èº«ä»½è¯å·ï¼ˆidï¼‰å’Œæˆ·ç±åœ°ï¼ˆserverï¼‰
- ä»¥åä»»ä½•æ—¶å€™éœ€è¦ç”¨èº«ä»½è¯å·ï¼Œéƒ½ä¸éœ€è¦é‡æ–°"å‡ºç”Ÿ"
- ç›´æ¥ç”¨ç°æœ‰çš„èº«ä»½è¯å·å³å¯

### çŸ¥è¯†ç‚¹13: thisæŒ‡é’ˆçš„ä½¿ç”¨
- **é—®é¢˜**: `get_id()` å‡½æ•°ä¸­å¯ä»¥å†™ `return id` è€Œä¸æ˜¯ `return this->id` å—ï¼Ÿ
- **ç­”æ¡ˆ**: å®Œå…¨å¯ä»¥ï¼ä¸¤ç§å†™æ³•éƒ½æ­£ç¡®

#### ä¸¤ç§ç­‰ä»·çš„å†™æ³•ï¼š
```cpp
// å†™æ³•1ï¼šä½¿ç”¨thisæŒ‡é’ˆï¼ˆæ˜¾å¼ï¼‰
std::string Client::get_id() {
    return this->id;
}

// å†™æ³•2ï¼šç›´æ¥ä½¿ç”¨æˆå‘˜å˜é‡ï¼ˆéšå¼ï¼‰
std::string Client::get_id() {
    return id;
}
```

#### ç¼–è¯‘å™¨çš„å¤„ç†ï¼š
- å½“ä½ å†™ `return id` æ—¶ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç†è§£ä¸º `return this->id`
- `this` æ˜¯éšå«çš„ï¼ŒæŒ‡å‘å½“å‰å¯¹è±¡
- ä¸¤ç§å†™æ³•ç¼–è¯‘åçš„ä»£ç å®Œå…¨ç›¸åŒ

#### ä½•æ—¶éœ€è¦æ˜¾å¼ä½¿ç”¨thisï¼Ÿ
1. **å‚æ•°åä¸æˆå‘˜å˜é‡åŒåæ—¶**ï¼š
   ```cpp
   void Client::setId(std::string id) {
       this->id = id;  // å¿…é¡»ç”¨thisåŒºåˆ†å‚æ•°idå’Œæˆå‘˜å˜é‡id
   }
   ```
2. **ä¸ºäº†ä»£ç æ¸…æ™°æ€§**ï¼ˆå¯é€‰ï¼‰
3. **åœ¨æŸäº›æ¨¡æ¿ç¼–ç¨‹åœºæ™¯ä¸­**

#### æ¨èå†™æ³•ï¼š
- ä¸€èˆ¬æƒ…å†µä¸‹ï¼š`return id;`ï¼ˆç®€æ´ï¼‰
- æœ‰æ­§ä¹‰æ—¶ï¼š`return this->id;`ï¼ˆæ˜ç¡®ï¼‰

### 8. Server::parse_trx() å‡½æ•°æ£€æŸ¥
- **é”™è¯¯ä½ç½®**: src/server.cpp:61
- **è¯­æ³•é”™è¯¯**: `logic_error` å‰ç¼ºå°‘ `std::`
- **åº”è¯¥**: `throw std::logic_error("this trx is not standard");`

#### å‡½æ•°é€»è¾‘é—®é¢˜ï¼š
- **å½“å‰å®ç°**: åªæ˜¯æ£€æŸ¥å­—ç¬¦ä¸²æ ¼å¼æ˜¯å¦åŒ¹é…ï¼Œç„¶åè¿”å›true/falseæˆ–æŠ›å¼‚å¸¸
- **READMEè¦æ±‚**: "parse this string format and outputting each property separately"
- **é—®é¢˜**: å‡½æ•°ç­¾åè¡¨æ˜åº”è¯¥è§£æè¾“å…¥ï¼Œä½†å®é™…ä¸Šæ˜¯åœ¨éªŒè¯è¾“å‡º

#### æ­£ç¡®ç†è§£ï¼š
æ ¹æ®å‡½æ•°ç­¾å `parse_trx(trx, sender, receiver, value)`ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥ï¼š
1. æ¥æ”¶ä¸€ä¸ªäº¤æ˜“å­—ç¬¦ä¸² `trx`ï¼ˆå¦‚"alice-bob-1.5"ï¼‰
2. è§£æå‡º sender, receiver, value
3. é€šè¿‡å¼•ç”¨å‚æ•°è¿”å›è§£æç»“æœ
4. å¦‚æœè§£æå¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸

#### å»ºè®®çš„æ­£ç¡®å®ç°ï¼š
å‡½æ•°åº”è¯¥è§£æè¾“å…¥çš„trxå­—ç¬¦ä¸²ï¼Œå°†ç»“æœå¡«å…¥sender, receiver, valueå‚æ•°ä¸­

### çŸ¥è¯†ç‚¹14: C++å­—ç¬¦ä¸²åˆ†å‰²æ–¹æ³•
- **é—®é¢˜**: å¦‚ä½•å°† "alice-bob-1.5" åˆ†å‰²æˆä¸‰éƒ¨åˆ†ï¼Ÿ
- **æ–¹æ³•**: ä½¿ç”¨ `std::string` çš„ `find()` å’Œ `substr()` å‡½æ•°

#### åŸºæœ¬æ¦‚å¿µï¼š
- `find(char)` - æŸ¥æ‰¾å­—ç¬¦çš„ä½ç½®ï¼Œè¿”å›ç´¢å¼•
- `substr(start, length)` - æå–å­å­—ç¬¦ä¸²
- å¦‚æœæ‰¾ä¸åˆ°å­—ç¬¦ï¼Œ`find()` è¿”å› `std::string::npos`

#### åˆ†å‰²ç¤ºä¾‹ï¼š
```cpp
std::string trx = "alice-bob-1.5";

// æŸ¥æ‰¾ç¬¬ä¸€ä¸ª'-'çš„ä½ç½®
size_t first_dash = trx.find('-');        // ç»“æœï¼š5
// æŸ¥æ‰¾ç¬¬äºŒä¸ª'-'çš„ä½ç½®ï¼ˆä»ç¬¬ä¸€ä¸ª'-'ä¹‹åå¼€å§‹ï¼‰
size_t second_dash = trx.find('-', first_dash + 1);  // ç»“æœï¼š9

// æå–å„éƒ¨åˆ†
std::string sender = trx.substr(0, first_dash);           // "alice"
std::string receiver = trx.substr(first_dash + 1, 
                                second_dash - first_dash - 1);  // "bob"
std::string value_str = trx.substr(second_dash + 1);      // "1.5"

// è½¬æ¢valueä¸ºdouble
double value = std::stod(value_str);  // 1.5
```

#### é”™è¯¯æ£€æŸ¥ï¼š
```cpp
if (first_dash == std::string::npos || second_dash == std::string::npos) {
    throw std::runtime_error("Invalid transaction format");
}
```

### çŸ¥è¯†ç‚¹15: std::string::nposçš„å«ä¹‰
- **nposæ˜¯ä»€ä¹ˆ**: "no position" çš„ç¼©å†™ï¼Œè¡¨ç¤º"æ²¡æœ‰æ‰¾åˆ°ä½ç½®"
- **æ•°å€¼**: æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼ˆé€šå¸¸æ˜¯ size_t ç±»å‹çš„æœ€å¤§å€¼ï¼‰
- **ç”¨é€”**: å½“ `find()` å‡½æ•°æ‰¾ä¸åˆ°æŒ‡å®šå­—ç¬¦æ—¶ï¼Œè¿”å› `npos`

#### ä½¿ç”¨ç¤ºä¾‹ï¼š
```cpp
std::string text = "hello world";
size_t pos = text.find('x');  // æ‰¾ä¸åˆ°'x'ï¼Œè¿”å› std::string::npos

// æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°
if (pos == std::string::npos) {
    std::cout << "æ²¡æ‰¾åˆ°å­—ç¬¦ 'x'" << std::endl;
} else {
    std::cout << "æ‰¾åˆ°äº†ï¼Œä½ç½®åœ¨: " << pos << std::endl;
}
```

#### å¸¸è§é”™è¯¯ï¼š
- âŒ `std::nops` (æ‹¼å†™é”™è¯¯)
- âœ… `std::string::npos` (æ­£ç¡®å†™æ³•)

### 9. parse_trxå‡½æ•°å®ç°æ£€æŸ¥ (ç¬¬ä¸€æ¬¡å°è¯•)
- **é”™è¯¯ä½ç½®**: src/server.cpp:60, 62, 63, 65
- **é—®é¢˜åˆ—è¡¨**:
  1. **æ‹¼å†™é”™è¯¯**: `std::nops` åº”è¯¥æ˜¯ `std::string::npos`
  2. **è¯­æ³•é”™è¯¯**: ç¬¬60è¡Œifè¯­å¥ä¸å®Œæ•´ï¼Œç¼ºå°‘æ¡ä»¶å’Œå¤§æ‹¬å·
  3. **å‡½æ•°è°ƒç”¨é”™è¯¯**: `std::substr()` ä¸å­˜åœ¨ï¼Œåº”è¯¥æ˜¯ `trx.substr()`
  4. **å‚æ•°é—®é¢˜**: `substr(0, first_place - 1)` å‚æ•°é”™è¯¯ï¼Œåº”è¯¥æ˜¯ `substr(0, first_place)`
  5. **ç±»å‹é”™è¯¯**: å‡½æ•°å‚æ•°éœ€è¦æ˜¯å¼•ç”¨ç±»å‹æ‰èƒ½ä¿®æ”¹

#### éœ€è¦ä¿®æ­£çš„åœ°æ–¹ï¼š
```cpp
// å½“å‰ï¼ˆé”™è¯¯ï¼‰ï¼š
if(first_place == std::nops)          // æ‹¼å†™é”™è¯¯ + è¯­å¥ä¸å®Œæ•´
sender = std::substr(0, first_place - 1);  // å‡½æ•°ä¸å­˜åœ¨ + å‚æ•°é”™è¯¯

// åº”è¯¥æ˜¯ï¼š
if(first_place == std::string::npos || second_place == std::string::npos) {
    throw std::runtime_error("Invalid format");
}
sender = trx.substr(0, first_place);  // ä½¿ç”¨trxå¯¹è±¡çš„substræ–¹æ³•
```

### 10. parse_trxå‡½æ•°ç¬¬äºŒæ¬¡æ£€æŸ¥
- **é”™è¯¯ä½ç½®**: src/server.cpp:64, 68
- **é—®é¢˜**: 
  1. ç¬¬64è¡Œï¼š`substr(0, first_place - 1)` åº”è¯¥æ˜¯ `substr(0, first_place)`
  2. ç¬¬68è¡Œï¼šå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œåº”è¯¥æ·»åŠ  `return true;`
- **çŠ¶æ€**: âœ“ å·²ä¿®æ­£

### 11. transfer_moneyå‡½æ•°å®ç°é”™è¯¯ (ç¬¬ä¸€æ¬¡å®ç°)
- **é”™è¯¯ä½ç½®**: src/client.cpp:29, 34
- **é—®é¢˜æè¿°**:
  1. **æ‹¼å†™é”™è¯¯**: `sign(fianl_trx)` ä¸­çš„ `fianl_trx` åº”è¯¥æ˜¯ `final_trx`
  2. **å‡½æ•°è°ƒç”¨é”™è¯¯**: `Server::add_pending_trx()` ä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œåº”è¯¥é€šè¿‡å¯¹è±¡æŒ‡é’ˆè°ƒç”¨
  3. **é€»è¾‘é¡ºåºé”™è¯¯**: åº”è¯¥å…ˆæ£€æŸ¥ä½™é¢å†ç­¾åï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—
- **æ­£ç¡®è°ƒç”¨**: `server->add_pending_trx(final_trx, sign_trx)`
- **çŠ¶æ€**: âœ“ å·²ä¿®æ­£

### 12. add_pending_trxå‡½æ•°å®ç°é”™è¯¯ (ç¬¬ä¸€æ¬¡å®ç°)  
- **é”™è¯¯ä½ç½®**: src/server.cpp:75, 76, 77, 80, 81
- **é—®é¢˜æè¿°**:
  1. **å¼•ç”¨å‚æ•°é”™è¯¯**: `parse_trx(trx, &sender, &receiver, &value)` ä¸­ä¸éœ€è¦ `&`ï¼Œå› ä¸ºå‚æ•°å·²ç»æ˜¯å¼•ç”¨ç±»å‹
  2. **å‡½æ•°è°ƒç”¨é”™è¯¯**: `get_wallet(sender)` æ­£ç¡®ï¼Œä½†éœ€è¦å…ˆæ£€æŸ¥senderå®¢æˆ·æ˜¯å¦å­˜åœ¨  
  3. **ç±»å‹é”™è¯¯**: `sender.get_publickey()` é”™è¯¯ï¼Œ`sender`æ˜¯stringç±»å‹ï¼Œéœ€è¦å…ˆè·å–Clientå¯¹è±¡
  4. **å®¹å™¨æ–¹æ³•é”™è¯¯**: `pending_trxs.add(trx)` åº”è¯¥æ˜¯ `pending_trxs.push_back(trx)`
  5. **ç±»å‹å£°æ˜ä¸å®Œæ•´**: `std::shared_ptr client_sender` ç¼ºå°‘æ¨¡æ¿å‚æ•°
- **ä¿®æ­£è¦ç‚¹**:
  - å¼•ç”¨å‚æ•°: `parse_trx(trx, sender, receiver, value)`
  - è·å–Clientå¯¹è±¡: `std::shared_ptr<Client> client_sender = get_client(sender)`
  - ä½¿ç”¨æ­£ç¡®çš„å®¹å™¨æ–¹æ³•: `push_back()`
- **çŠ¶æ€**: âœ“ å·²ä¿®æ­£

### çŸ¥è¯†ç‚¹17: C++æ™ºèƒ½æŒ‡é’ˆæ¨¡æ¿å‚æ•°
- **é—®é¢˜**: `std::shared_ptr client_sender` ç¼–è¯‘é”™è¯¯
- **åŸå› **: `std::shared_ptr` æ˜¯æ¨¡æ¿ç±»ï¼Œå¿…é¡»æŒ‡å®šç±»å‹å‚æ•°
- **æ­£ç¡®å†™æ³•**: `std::shared_ptr<Client> client_sender`
- **ç±»æ¯”ç†è§£**: 
  - `std::vector` â†’ `std::vector<int>` (å¿…é¡»æŒ‡å®šå­˜å‚¨ä»€ä¹ˆç±»å‹)
  - `std::shared_ptr` â†’ `std::shared_ptr<Client>` (å¿…é¡»æŒ‡å®šæŒ‡å‘ä»€ä¹ˆç±»å‹)
- **æ¨¡æ¿è¯­æ³•**: `æ¨¡æ¿å<ç±»å‹å‚æ•°>`

### çŸ¥è¯†ç‚¹18: C++å¼•ç”¨å‚æ•°çš„ä½¿ç”¨
- **å¼•ç”¨å‚æ•°å®šä¹‰**: `void func(int& param)` - å‚æ•°æ˜¯å¼•ç”¨ç±»å‹
- **è°ƒç”¨å¼•ç”¨å‡½æ•°**: `func(variable)` - ç›´æ¥ä¼ å˜é‡ï¼Œä¸éœ€è¦ `&`
- **å–åœ°å€ vs å¼•ç”¨**: 
  - `&variable` - å–åœ°å€ï¼Œç”¨äºæŒ‡é’ˆå‚æ•°
  - `variable` - å˜é‡æœ¬èº«ï¼Œç”¨äºå¼•ç”¨å‚æ•°
- **é”™è¯¯ç¤ºä¾‹**: `func(&variable)` å½“funcæœŸæœ›å¼•ç”¨å‚æ•°æ—¶
- **æ­£ç¡®ç¤ºä¾‹**: `func(variable)` ç¼–è¯‘å™¨è‡ªåŠ¨å¤„ç†å¼•ç”¨

### çŸ¥è¯†ç‚¹19: vectorå®¹å™¨çš„æ–¹æ³•
- **æ·»åŠ å…ƒç´ **: `vector.push_back(element)` - åœ¨æœ«å°¾æ·»åŠ å…ƒç´ 
- **å¸¸è§é”™è¯¯**: `vector.add(element)` - vectoræ²¡æœ‰addæ–¹æ³•
- **å…¶ä»–æ–¹æ³•**: 
  - `push_front()` - dequeæœ‰ï¼Œvectoræ²¡æœ‰
  - `insert()` - åœ¨æŒ‡å®šä½ç½®æ’å…¥
  - `emplace_back()` - ç›´æ¥åœ¨æœ«å°¾æ„é€ å…ƒç´ 

### çŸ¥è¯†ç‚¹10: std::make_sharedå‡½æ•°
- **æ˜¯ä»€ä¹ˆ**: `std::make_shared` æ˜¯C++æ ‡å‡†åº“å‡½æ•°ï¼Œå®šä¹‰åœ¨ `<memory>` å¤´æ–‡ä»¶ä¸­
- **ä½œç”¨**: åˆ›å»ºå¯¹è±¡å¹¶ç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç†å®ƒ

### çŸ¥è¯†ç‚¹16: Client::sign()å‡½æ•°çš„ä½œç”¨å’Œå®ç°
- **ä½œç”¨**: æ•°å­—ç­¾åï¼Œç”¨äºè¯æ˜æ•°æ®ç¡®å®æ¥è‡ªç§é’¥æŒæœ‰è€…
- **åº”ç”¨åœºæ™¯**: åœ¨è½¬è´¦æ—¶ï¼ŒClientéœ€è¦ç”¨ç§é’¥ç­¾åäº¤æ˜“ï¼Œè¯æ˜"è¿™ç¬”è½¬è´¦ç¡®å®æ˜¯æˆ‘å‘èµ·çš„"

#### æ•°å­—ç­¾åçš„åŸç†ï¼š
1. **ç§é’¥ç­¾å**: åªæœ‰ç§é’¥æŒæœ‰è€…èƒ½å¤Ÿåˆ›å»ºæœ‰æ•ˆç­¾å
2. **å…¬é’¥éªŒè¯**: ä»»ä½•äººéƒ½å¯ä»¥ç”¨å…¬é’¥éªŒè¯ç­¾åçš„çœŸå®æ€§
3. **é˜²æ­¢ä¼ªé€ **: æ²¡æœ‰ç§é’¥çš„äººæ— æ³•ä¼ªé€ ç­¾å

#### åœ¨åŠ å¯†è´§å¸ä¸­çš„åº”ç”¨ï¼š
```cpp
// aliceè¦è½¬è´¦ç»™bob
std::string transaction = "alice-bob-1.5";
std::string signature = alice.sign(transaction);  // aliceç”¨ç§é’¥ç­¾å
// ç°åœ¨aliceå¯ä»¥æäº¤ transaction + signature åˆ°æœåŠ¡å™¨
// æœåŠ¡å™¨å¯ä»¥ç”¨aliceçš„å…¬é’¥éªŒè¯è¿™ç¡®å®æ˜¯aliceå‘èµ·çš„è½¬è´¦
```

#### ç®€å•å®ç°ï¼š
```cpp
std::string Client::sign(std::string txt) {
    return crypto::signMessage(private_key, txt);
}
```

#### ä¸ºä»€ä¹ˆéœ€è¦ç­¾åï¼Ÿ
- **èº«ä»½è®¤è¯**: è¯æ˜äº¤æ˜“ç¡®å®æ¥è‡ªè´¦æˆ·æŒæœ‰è€…
- **é˜²æ­¢ç¯¡æ”¹**: å¦‚æœæ•°æ®è¢«ä¿®æ”¹ï¼Œç­¾åéªŒè¯ä¼šå¤±è´¥
- **ä¸å¯å¦è®¤**: ç­¾åè€…æ— æ³•å¦è®¤è‡ªå·±ç­¾ç½²è¿‡è¿™ä¸ªæ•°æ®
- **è¯­æ³•**: `std::make_shared<ç±»å‹>(æ„é€ å‡½æ•°å‚æ•°...)`
- **è¿”å›å€¼**: `std::shared_ptr<ç±»å‹>` æ™ºèƒ½æŒ‡é’ˆ

#### è¯¦ç»†è§£é‡Š
```cpp
// è¯­æ³•æ ¼å¼
std::make_shared<ClassName>(constructor_parameters...)

// åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­
std::make_shared<Client>(id, *this)
//                ^      ^    ^
//              ç±»å‹   å‚æ•°1  å‚æ•°2
```

#### ä¸ºä»€ä¹ˆç”¨make_sharedï¼Ÿ
- **è‡ªåŠ¨å†…å­˜ç®¡ç†**: ä¸éœ€è¦æ‰‹åŠ¨deleteï¼Œæ™ºèƒ½æŒ‡é’ˆä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜
- **å¼‚å¸¸å®‰å…¨**: å¦‚æœæ„é€ å¤±è´¥ï¼Œå†…å­˜ä¼šè‡ªåŠ¨æ¸…ç†
- **æ€§èƒ½ä¼˜åŒ–**: æ¯” `new` + `shared_ptr` æ›´é«˜æ•ˆ

#### ç­‰ä»·çš„ä¼ ç»Ÿå†™æ³•ï¼ˆä¸æ¨èï¼‰
```cpp
// ä¼ ç»Ÿæ–¹æ³•ï¼ˆå®¹æ˜“å‡ºé”™ï¼‰
Client* raw_ptr = new Client(id, *this);
std::shared_ptr<Client> smart_ptr(raw_ptr);

// ç°ä»£æ–¹æ³•ï¼ˆæ¨èï¼‰
auto smart_ptr = std::make_shared<Client>(id, *this);
```

#### æ™ºèƒ½æŒ‡é’ˆçš„å¥½å¤„
- **å…±äº«æ‰€æœ‰æƒ**: å¤šä¸ªæŒ‡é’ˆå¯ä»¥æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
- **è‡ªåŠ¨é”€æ¯**: å½“æ²¡æœ‰æŒ‡é’ˆæŒ‡å‘å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤å¯¹è±¡
- **é˜²æ­¢å†…å­˜æ³„æ¼**: ä¸éœ€è¦è®°ä½delete

### çŸ¥è¯†ç‚¹11: get_clientå‡½æ•°çš„æŸ¥æ‰¾é€»è¾‘
- **é—®é¢˜**: ä¸ºä»€ä¹ˆèƒ½ç”¨IDå­—ç¬¦ä¸²æ‰¾åˆ°ClientæŒ‡é’ˆï¼Ÿ
- **ç­”æ¡ˆ**: ä¸æ˜¯ç›´æ¥è½¬æ¢ï¼Œè€Œæ˜¯é€šè¿‡éå†æŸ¥æ‰¾
- **åŸç†**: 
  1. clientså­˜å‚¨çš„æ˜¯ `map<ClientæŒ‡é’ˆ, ä½™é¢>`
  2. æ¯ä¸ªClientå¯¹è±¡å†…éƒ¨æœ‰IDå±æ€§
  3. éå†æ‰€æœ‰Clientå¯¹è±¡ï¼Œæ‰¾åˆ°IDåŒ¹é…çš„é‚£ä¸ª
- **æŸ¥æ‰¾è¿‡ç¨‹**:
  ```
  è¾“å…¥: "alice"
  éå†: clientsä¸­çš„æ¯ä¸ªClientå¯¹è±¡
  æ¯”è¾ƒ: client->get_id() == "alice" ?
  æ‰¾åˆ°: è¿”å›åŒ¹é…çš„ClientæŒ‡é’ˆ
  æ²¡æ‰¾åˆ°: è¿”å›nullptr
  ```

## ä¸‹ä¸€æ­¥è®¡åˆ’
1. âœ“ åˆ†æä½œä¸šè¦æ±‚ä¸­çš„ç±»å®šä¹‰
2. âœ“ å®ç° Server ç±»å¤´æ–‡ä»¶  
3. âœ“ å®Œå–„ Client ç±»å¤´æ–‡ä»¶
4. ğŸ”„ å¼€å§‹å®ç°å…·ä½“åŠŸèƒ½
3. å®ç° Client ç±»å¤´æ–‡ä»¶
4. å®ç°å…·ä½“åŠŸèƒ½